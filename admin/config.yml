local_backend: true

# Choose ONE backend and configure it for your repo/host:
# Netlify (Identity + Git Gateway)
backend:
  name: git-gateway
  branch: main

# Alternative (GitHub backend + OAuth server):
# backend:
#   name: github
#   repo: Francis365/femme-essentials
#   branch: main

media_folder: "shared_images"          # where uploads go in the repo
public_folder: "/shared_images"        # public path used by the site

publish_mode: editorial_workflow         # optional: drafts/review/publish

collections:
  - name: "catalog"
    label: "Product Catalog"
    label_singular: "Product"
    editor:
      preview: false
    files:
      - file: "data/products.json"
        label: "Products"
        name: "products"
        format: json
        description: "List of products used across the site"
        fields:
          - label: "Products"
            name: "products"
            widget: "list"
            collapsed: true
            add_to_top: true
            summary: "{{fields.name}} — ₦{{fields.price_ngn}} ({{fields.category}})"
            fields:
              - label: "Image"
                name: "image"
                widget: "image"
                allow_multiple: false
                required: false
                hint: "Upload/select image; filename will be auto-derived."
              - label: "Filename (optional)"
                name: "filename"
                widget: "string"
                required: false
                hint: "Only needed if you prefer entering a basename manually."
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Category", name: "category", widget: "select", options: ["Wigs","Perfume","Body Lotion","Soap","Skin Care","Makeup","Accessories"] }
              - { label: "Description", name: "description", widget: "text" }
              - { label: "Price (USD - legacy)", name: "price", widget: "number", value_type: "float", min: 0, step: 0.01, required: false }
              - { label: "Price (NGN)", name: "price_ngn", widget: "number", value_type: "int", min: 0, step: 1, required: false }

